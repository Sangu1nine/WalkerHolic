# 10Hz 샘플링 레이트 변경사항 요약
# MODIFIED 2025-05-26: 100Hz → 10Hz 샘플링 레이트 변경

## 1. 라즈베리파이 코드 변경사항 (Raspberry_with_realtime_transmission_websocket_updated.py)

### 주요 설정 변경:
- SAMPLING_RATE: 100Hz → 10Hz
- SEQ_LENGTH: 150 → 15 (1.5초분 데이터)
- STRIDE: 5 → 1 (더 자주 예측 실행)
- IMU 큐 크기: 1000 → 100 (메모리 효율성)

### 타이밍 조정:
- 전송 루프 sleep: 0.001초 → 0.01초
- 디버그 출력: 1초마다 → 5초마다
- 낙상 알람 시간: 3초 → 2초

### 예상 효과:
- 데이터 전송량 90% 감소 (100Hz → 10Hz)
- 배터리 수명 개선
- 네트워크 부하 감소
- 낙상 감지 반응성 향상 (STRIDE=1로 인해)

## 2. 백엔드 WebSocket 매니저 변경사항 (websocket_manager.py)

### 새로운 설정 추가:
- IMU_SAMPLING_RATE = 10
- IMU_BATCH_SIZE = 5 (0.5초마다 DB 저장)
- IMU_BUFFER_MAX = 50 (5초분 버퍼)

### 처리 방식 개선:
- IMU 데이터 배치 처리로 DB 부하 감소
- 실시간 전송은 모든 데이터 유지
- 배치 버퍼 크기 제한으로 메모리 관리

### 성능 개선:
- DB 쓰기 횟수 80% 감소 (배치 처리)
- 메모리 사용량 최적화
- 실시간성 유지

## 3. 호환성 고려사항:

### 모델 호환성:
- 기존 TensorFlow Lite 모델이 150 시퀀스 길이로 훈련된 경우
- 15 시퀀스 길이로 재훈련 필요할 수 있음
- 또는 SEQ_LENGTH를 기존 모델에 맞게 조정 (예: 30으로 증가)

### 권장사항:
1. 실제 환경에서 낙상 감지 정확도 테스트
2. 필요시 SEQ_LENGTH 조정 (15→30)
3. 배치 크기 조정 (네트워크 환경에 따라)
4. 모니터링을 통한 성능 검증

## 4. 추가 최적화 가능사항:

### 향후 개선점:
- 동적 샘플링 레이트 (활동 수준에 따라)
- 압축 알고리즘 적용
- 오프라인 모드 지원
- 에지 처리 확대

### 모니터링 포인트:
- 낙상 감지 정확도
- 데이터 손실률
- 배터리 수명
- 네트워크 안정성 